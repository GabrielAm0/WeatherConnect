"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@studio-freight/hamo"),r=require("@studio-freight/lenis"),t=require("clsx"),a=require("prop-types"),s=require("react"),n=require("zustand");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},c.apply(this,arguments)}const o=s.createContext(),l=n.create((()=>({})));const u=s.forwardRef((({children:a,root:n=!1,options:u={},autoRaf:i=!0,rafPriority:f=0,className:p,...d},b)=>{const m=s.useRef(),v=s.useRef(),[y,k]=s.useState(),C=s.useRef([]),h=s.useCallback(((e,r)=>{C.current.push({callback:e,priority:r}),C.current.sort(((e,r)=>e.priority-r.priority))}),[]),g=s.useCallback((e=>{C.current=C.current.filter((r=>r.callback!==e))}),[]);s.useImperativeHandle(b,(()=>({wrapper:m.current,content:v.current,lenis:y})),[y]),s.useEffect((()=>{const e=new r({...u,...!n&&{wrapper:m.current,content:v.current}});return k(e),()=>{e.destroy(),k(void 0)}}),[n,JSON.stringify(u)]),e.useFrame((e=>{i&&y?.raf(e)}),f),s.useEffect((()=>{n&&y&&l.setState({lenis:y,addCallback:h,removeCallback:g})}),[n,y,h,g]);const x=s.useCallback((e=>{for(let r=0;r<C.current.length;r++)C.current[r].callback(e)}),[]);s.useEffect((()=>(y?.on("scroll",x),()=>{y?.off("scroll",x)})),[y,x]);const N=s.useCallback((()=>{m.current&&(m.current.className=t(y?.className,p))}),[y,p]);return s.useEffect((()=>(N(),y?.on("className change",N),()=>{y?.off("className change",N)})),[y,N]),s.createElement(o.Provider,{value:{lenis:y,addCallback:h,removeCallback:g}},n?a:s.createElement("div",c({ref:m,className:t(y?.className,p)},d),s.createElement("div",{ref:v},a)))}));u.displayName="ReactLenis",u.propTypes={children:a.node,root:a.bool,options:a.object,autoRaf:a.bool,rafPriority:a.number,className:a.string},exports.Lenis=u,exports.LenisContext=o,exports.ReactLenis=u,exports.default=u,exports.useLenis=function(e,r=[],t=0){const{lenis:a,addCallback:n,removeCallback:c}=function(){const e=s.useContext(o),r=l();return e??r}();return s.useEffect((()=>{if(e&&n&&c&&a)return n(e,t),e(a),()=>{c(e)}}),[a,n,c,t,...r]),a};
//# sourceMappingURL=react-lenis.cjs.js.map
